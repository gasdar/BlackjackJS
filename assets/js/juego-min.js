const miModulo=(()=>{"use strict";let e=[],t=["C","D","H","S"],r=["A","J","Q","K"],n=[],a=document.querySelector("#btn-pedir"),l=document.querySelector("#btn-detener");document.querySelector("#btn-nuevo");let o=document.querySelectorAll("span"),i=document.querySelectorAll(".participante__carta"),s=()=>{e=[];for(let n=2;n<=10;n++)for(let a of t)e.push(`${n}${a}`);for(let l in r)for(let o of t)e.push(r[l]+o);return _.shuffle(e)},d=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},c=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},u=(e,t)=>(n[t]+=c(e),o[t].innerText=n[t],n[t]),p=(e,t)=>{let r=document.createElement("img");r.alt="Carta proporcionada por el juego",r.src=`./assets/cards/${e}.png`,r.classList.add("participante__carta-img"),i[t].append(r)},$=()=>{let[e,t]=n;setTimeout(()=>{t>21?alert("Felicidades has ganado!!"):t===e?alert("Ha sido un duelo parejo!!"):alert("Lo sentimos, has perdido!!")},100)},h=e=>{do{let t=d();u(t,n.length-1),p(t,n.length-1)}while(e>n[n.length-1]&&e<=21);$()},g=()=>{a.disabled=!0,l.disabled=!0,h(n[0])},f=(t=2)=>{e=s(),n=[];for(let r=0;r<t;r++)n.push(0);o.forEach(e=>e.innerText=0),i.forEach(e=>e.innerHTML=""),a.disabled=!1,l.disabled=!1};return a.addEventListener("click",()=>{if(e.length>0){let t=d();u(t,0),p(t,0),n[0]>21?(console.warn("Lo siento, te pasaste!!"),g()):21===n[0]&&(console.warn("Genial, Lograste obtener 21!!"),g())}else alert("Debe iniciar un nuevo juego")}),l.addEventListener("click",()=>{void 0===n[0]?alert("Debe iniciar un nuevo juego"):0===n[0]?alert("Al menos debes tener 1 carta para detenerte"):g()}),{nuevoGame:f}})();